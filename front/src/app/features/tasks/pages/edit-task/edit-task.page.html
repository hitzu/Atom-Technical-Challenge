<h2 class="mb-3">Editar tarea</h2>

<div *ngIf="isLoading()" class="alert alert-info" role="alert">
  Cargando tarea...
</div>

<div
  *ngIf="errorMessage() && !isLoading()"
  class="alert alert-danger"
  role="alert"
>
  {{ errorMessage() }}
</div>

<div class="card">
  <div class="card-body">
    <form [formGroup]="form" (ngSubmit)="onSubmit()">
      <div class="mb-3">
        <label class="form-label" for="title">Título</label>
        <input
          id="title"
          class="form-control"
          type="text"
          placeholder="Ej: Comprar leche"
          formControlName="title"
          autocomplete="off"
        />
      </div>

      <div class="mb-3">
        <label class="form-label" for="description">Descripción</label>
        <textarea
          id="description"
          class="form-control"
          rows="3"
          placeholder="Opcional: agrega detalles"
          formControlName="description"
        ></textarea>
      </div>

      <div class="mb-3 form-check">
        <input
          id="completed"
          class="form-check-input"
          type="checkbox"
          formControlName="completed"
        />
        <label class="form-check-label" for="completed">Completada</label>
      </div>

      <div class="d-flex gap-2">
        <button
          class="btn btn-primary"
          type="submit"
          [disabled]="form.invalid || isSubmitting() || isLoading()"
        >
          {{ isSubmitting() ? 'Guardando...' : 'Guardar cambios' }}
        </button>
        <button
          class="btn btn-outline-secondary"
          type="button"
          (click)="goBack()"
          [disabled]="isSubmitting() || isLoading()"
        >
          Cancelar
        </button>
      </div>
    </form>
  </div>
</div>
